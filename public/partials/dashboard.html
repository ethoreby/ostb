<div class="dashboard">
  <div class="wrapper">
    <div class="content">
      <h1>Dashboard: {{currentUser}}</h1>
      <div class="books left">
        <!-- <h2>Books</h2>
        <ul class="nav">
          <li><a ui-sref="project">Concrete Mathematics</a></li>
          <li><a ui-sref="project">A Perspective on the Human Condition</a></li>
        </ul> -->
        <h2>{{user.username}}</h2>

        <img id="profile">
        <ul>
          <li><pre>Member since: {{user.meta.createdAt | date: yyyy-mm-dd}}</pre></li>
          <li><pre>Full Name:    {{user.meta.fullName}}</pre></li>
          <li><pre>Email:        {{user.email}}</pre></li>
          <li><pre>Title:        {{user.meta.title}}</pre></li>
          <li><pre>Workplace:    {{user.meta.workplace}}</pre></li>
        </ul>
      </div>
      <div class="pages left">
        <h2>Pages</h2>

        <div ng-controller='ProjectsListController'>

          <div ng-hide="projects" class="fyiBox">You don't have any projects yet.<br><br>Create a project to get started &#8594;</div>

          <ul>
            <div ng-repeat='project in projects'>
              <a ui-sref='project.preview({username: project.username, repo: project.repo})'>{{project.repo}}<a/>
            </div>
          </ul>
        </div>
      </div>
    </div>

    <div class="right">
  
    <div class="control">
      <a ui-sref="discover"><button>Discover</button></a>

      <button>New Book</button>
      <div ng-controller='ProjectsController'>
        <button ng-click='toggleModal()'>New Page</button>
      </div>
    </div>
  </div>
</div>

<div ng-controller='ProjectsController'>
  <a ng-click='toggleModal()'></a>
  <modal-dialog width='400px' height='60%' show='modalShown'>
    <h3>Create New Project</h3>
    <form ng-submit='createProject(project, toggleModal)'>
      Project Name:
      <br>
      <input style="width: 300px;" type="text" placeholder="Your Project Name" ng-model="project.repo"><br>
      <br>
      <div><input type="submit" value="Submit"></div>
    </form>
    <div style="color:red;">{{error}}</div>
  </modal-dialog>
</div>


